name: Release

on:
  push:
    branches:
      - main

jobs:
  release:
    if: github.event.pull_request.merged
    runs-on: ubuntu-latest
    name: Release
    steps:
      -
        name: ☁️ Checkout
        uses: actions/checkout@v3
        with:
          ref: ${{ github.head_ref }}  # source branch of PR
          fetch-depth: 0
      - 
        name: 🔧 Version
        uses: codacy/git-version@2.5.4
        with:
          release-branch: main
          dev-branch: dev
        id: gitVersion
      -
        run: echo "New Version ${{ steps.gitVersion.outputs.version }}."
      - 
        name: success
        run: exit 0